# 프로세스는 메모리 안에서 어떤 모습을 하고 있을까?

메모리에서 모든 프로세스는 다음과 같은 메모리 영역을 가지고 있습니다.

- 코드 영역
- 데이터 영역
- 힙 영역
- 스택 영역

이 중 코드와 데이터 영역은 실행 파일을 초기화될 때 생성되며 힙 영역은 C 언어의 malloc 함수에서 요청한 메모리가 할당됩니다.

그리고 스택 영역은 함수 실행 시 정보를 저장하는데 사용됩니다.

## 3.2.1 가상 메모리: 눈에 보이는 것이 항상 실제와 같지는 않다

앞서 메모리 영역이 대략 4 가지로 나누어졌다고 설명했지만 이는 실제와는 다릅니다. 실제 메모리는 영역마다 더 잘게 쪼개져 있고 힙 영역의 경우에는 총 3 개의 파트로 분리돼있습니다.

그리고 가상 메모리는 실제 메모리와 충돌되지 않게 설계되어있는데 이는 페이지 테이블이 가능하게 합니다.

## 3.2.2 페이지와 페이지 테이블: 가상에서 현실로

가상 메모리 주소 공간은 물리 메모리 주소와 연결되어 있습니다. 프로세스는 이런 연결 관계를 페이지 테이블로 관리하고 있으며 하나의 프로세스는 하나의 프로세스 이상을 가질 수 없습니다.

페이지 테이블에서 페이지란 가상 메모리의 데이터가 저장될 실제 메모리 주소를 말하며 큰 특징으로는 모두 동일한 크기의 조각으로 나누어져있단 점입니다. 예를 들어, 프로세스 A의 가상 메모리의 여러 메모리 영역들은 실제 메모리 주소의 페이지들에 저장됩니다.
